import { Injectable } from '@angular/core';
import { BaseService } from './base.service';
import { BehaviorSubject, Observable } from 'rxjs';

@Injectable({
  providedIn: 'root'
})
export class DataService extends BaseService {

	private routeTitle: BehaviorSubject<string>;
    public currentRouteTitle: Observable<string>;
	public userData:any;

	constructor() { 
		super(); 
		this.routeTitle = new BehaviorSubject<string>("home");
        this.currentRouteTitle = this.routeTitle.asObservable();
	}

	public setUserData(data) {
		localStorage.setItem('userData', JSON.stringify(data));
	}

	public getUserData() {
		return JSON.parse(localStorage.getItem('userData'));
	}

	changeRouteTitle(title: string) {
        this.routeTitle.next(title);
    }

    getRouteTitle():BehaviorSubject<string> {
    	return this.routeTitle;
    }
}
